<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title>Picross</title>
    <style>

        #rutenett .rammetopp {
            height: 40px;
            width: 40px;
            border: solid;
            background-color: lightslategrey;
        }

        #rutenett .rammevenstre {
            height: 40px;
            width: 40px;
            border: solid;
            background-color: lightslategrey;
        }

        #rutenett .ruter {
            height: 40px;
            width: 40px;
            border: solid;
            background-color: white;
        }
    </style>
    <script src="game.js"></script>
</head>
<body>

    //Picross. 2D Matrix

    <br />
    <br />
    <button onclick="nyLevel('Level 1', 10, level1)">level1</button>
    <button onclick="nyLevel('level 2', 10, level2)">level2</button>


    <table id="rutenett" style="margin: 100px 0 0 100px;"></table>




    <script>

        document.getElementById("rutenett").addEventListener("contextmenu", function (event) {
            event.preventDefault()
        });

        let spill;
        let tabell = document.getElementById("rutenett");

        let losning = [];
        let spillerslosning = [];

        let level1 = ["02", "03", "04", "05", "06", "11", "12", "13", "14", "15", "16", "17", "23", "24", "26", "28", "33", "34", "36", "38", "46", "51", "52", "53", "54", "55", "56", "60", "61", "62", "64", "65", "70", "71", "72", "73", "74", "75", "77", "79", "80", "81", "82", "83", "87", "88", "92", "93", "97", "69"];
        let level2 = ["04", "05", "13", "14", "15", "22", "24", "25", "30", "31", "32", "36", "37", "40", "41", "42", "46", "47", "48", "49", "50", "51", "55", "56", "58", "59", "60", "61", "62", "63", "64", "65", "66", "70", "71", "72", "74", "75", "76", "79", "80", "81", "82", "84", "85", "86", "90", "94", "95", "23"];


        function nyLevel(navn, storrelse, losning) {
            nullstill();
            spill = new Game(navn, storrelse, losning);
            spill.lagLevel(rutenett);
        }


        function skraver(rute) {
            rute.target.style.backgroundColor == "black" ? rute.target.style.backgroundColor = "white" : rute.target.style.backgroundColor = "black";
            rute.target.style.backgroundColor == "black" ? rute.target.farget = true : rute.target.farget = false;
            if (rute.target.farget == true) {
                spillerslosning.push(rute.target.id);
            } else {
                let index = spillerslosning.indexOf(rute.target.id);
                if (index > -1) {
                    spillerslosning.splice(index, 1);
                }
            }

            console.log(spillerslosning);

            if (spill.sjekkLosning()) {
                console.log("hurra!");
            }
        }

        function utelukk(rute) {
            rute.target.style.backgroundColor == "grey" ? rute.target.style.backgroundColor = "white" : rute.target.style.backgroundColor = "grey";
            rute.target.farget = false;
                let index = spillerslosning.indexOf(rute.target.id);
                if (index > -1) {
                    spillerslosning.splice(index, 1);
            }
            console.log(spillerslosning);

            if (spill.sjekkLosning()) {
                console.log("hurra!");
            }
        }


        function nullstill() {
            document.getElementById("rutenett").innerHTML = "";
            spillerslosning = [];
        }

    </script>
</body>
</html>